{"ast":null,"code":"import { getDishes } from \"../../../api\";\nconst SET_DISH = \"SET_DISH\";\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\";\nconst initialState = {\n  isFetching: true,\n  dishes: [],\n  categories: []\n};\nexport default function dishReducer(state = initialState, action) {\n  // debugger\n  switch (action.type) {\n    case SET_DISH:\n      const dishIndex = state.dishes.findIndex(dish => dish.id === action.payload.id); // debugger\n\n      if (dishIndex == -1) {\n        // debugger\n        return { ...state,\n          dishes: [...state.dishes, action.payload],\n          isFetching: false\n        };\n      }\n\n    case SET_IS_FETCHING:\n      return { ...state,\n        isFetching: action.data\n      };\n\n    default:\n      return state;\n  }\n}\nexport const setDish = dish => ({\n  type: SET_DISH,\n  payload: dish\n});\nexport const setIsFetching = data => ({\n  type: SET_IS_FETCHING,\n  data\n});\nexport const getDish = id => {\n  return async dispatch => {\n    dispatch(setIsFetching(true));\n    const response = await getDishes(id);\n    dispatch(setDish(response));\n    dispatch(setIsFetching(false)); // debugger\n  };\n};","map":{"version":3,"sources":["/home/yesiaw/GitLabProgect/src/pages/dishes/ducks/reducer.js"],"names":["getDishes","SET_DISH","SET_IS_FETCHING","initialState","isFetching","dishes","categories","dishReducer","state","action","type","dishIndex","findIndex","dish","id","payload","data","setDish","setIsFetching","getDish","dispatch","response"],"mappings":"AAAA,SAASA,SAAT,QAA0B,cAA1B;AAEA,MAAMC,QAAQ,GAAG,UAAjB;AACA,MAAMC,eAAe,GAAG,iBAAxB;AAEA,MAAMC,YAAY,GAAG;AACpBC,EAAAA,UAAU,EAAE,IADQ;AAEpBC,EAAAA,MAAM,EAAE,EAFY;AAGpBC,EAAAA,UAAU,EAAE;AAHQ,CAArB;AAMA,eAAe,SAASC,WAAT,CAAqBC,KAAK,GAAGL,YAA7B,EAA2CM,MAA3C,EAAmD;AACjE;AACA,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKT,QAAL;AACC,YAAMU,SAAS,GAAGH,KAAK,CAACH,MAAN,CAAaO,SAAb,CAAwBC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAA5D,CAAlB,CADD,CAEC;;AACA,UAAIH,SAAS,IAAI,CAAC,CAAlB,EAAqB;AACpB;AACA,eAAO,EACN,GAAGH,KADG;AAENH,UAAAA,MAAM,EAAE,CAAE,GAAGG,KAAK,CAACH,MAAX,EAAoBI,MAAM,CAACM,OAA3B,CAFF;AAGNX,UAAAA,UAAU,EAAE;AAHN,SAAP;AAKA;;AACF,SAAKF,eAAL;AACC,aAAO,EAAE,GAAGM,KAAL;AAAYJ,QAAAA,UAAU,EAAEK,MAAM,CAACO;AAA/B,OAAP;;AACD;AACC,aAAOR,KAAP;AAfF;AAiBA;AAED,OAAO,MAAMS,OAAO,GAAIJ,IAAD,KAAW;AAAEH,EAAAA,IAAI,EAAET,QAAR;AAAkBc,EAAAA,OAAO,EAAEF;AAA3B,CAAX,CAAhB;AACP,OAAO,MAAMK,aAAa,GAAIF,IAAD,KAAW;AACvCN,EAAAA,IAAI,EAAER,eADiC;AAEvCc,EAAAA;AAFuC,CAAX,CAAtB;AAMP,OAAO,MAAMG,OAAO,GAAIL,EAAD,IAAQ;AAC9B,SAAO,MAAOM,QAAP,IAAoB;AAC1BA,IAAAA,QAAQ,CAACF,aAAa,CAAC,IAAD,CAAd,CAAR;AACA,UAAMG,QAAQ,GAAG,MAAMrB,SAAS,CAACc,EAAD,CAAhC;AACAM,IAAAA,QAAQ,CAACH,OAAO,CAACI,QAAD,CAAR,CAAR;AACAD,IAAAA,QAAQ,CAACF,aAAa,CAAC,KAAD,CAAd,CAAR,CAJ0B,CAK1B;AACA,GAND;AAOA,CARM","sourcesContent":["import { getDishes } from \"../../../api\";\n\nconst SET_DISH = \"SET_DISH\";\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\";\n\nconst initialState = {\n\tisFetching: true,\n\tdishes: [],\n\tcategories: []\n};\n\nexport default function dishReducer(state = initialState, action) {\n\t// debugger\n\tswitch (action.type) {\n\t\tcase SET_DISH:\n\t\t\tconst dishIndex = state.dishes.findIndex((dish) => dish.id === action.payload.id)\n\t\t\t// debugger\n\t\t\tif (dishIndex == -1) {\n\t\t\t\t// debugger\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tdishes: [ ...state.dishes , action.payload],\n\t\t\t\t\tisFetching: false\n\t\t\t\t}\n\t\t\t}\n\t\tcase SET_IS_FETCHING:\n\t\t\treturn { ...state, isFetching: action.data };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport const setDish = (dish) => ({ type: SET_DISH, payload: dish });\nexport const setIsFetching = (data) => ({\n\ttype: SET_IS_FETCHING,\n\tdata\n\t\n});\n\nexport const getDish = (id) => {\n\treturn async (dispatch) => {\n\t\tdispatch(setIsFetching(true));\n\t\tconst response = await getDishes(id);\n\t\tdispatch(setDish(response));\n\t\tdispatch(setIsFetching(false));\n\t\t// debugger\n\t};\n};\n\n\n\n"]},"metadata":{},"sourceType":"module"}