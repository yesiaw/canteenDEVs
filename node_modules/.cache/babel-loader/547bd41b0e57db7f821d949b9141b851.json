{"ast":null,"code":"import { getCategory, getDishes } from \"../../../api\";\nconst SET_DISH = \"SET_DISH\";\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\";\nconst SET_CATEGORY = \"SET_CATEGORY\";\nconst CLEAR_DISH = \"CLEAR_DISH\";\nconst initialState = {\n  isFetching: true,\n  dishes: [],\n  categories: []\n};\nexport default function dishReducer(state = initialState, action) {\n  // debugger\n  switch (action.type) {\n    case SET_DISH:\n      const dishIndex = state.dishes.findIndex(dish => dish.name === action.payload.name); // debugger\n\n      if (dishIndex == -1) {\n        // debugger\n        return { ...state,\n          dishes: [...state.dishes, action.payload],\n          isFetching: false\n        };\n      }\n\n    case SET_IS_FETCHING:\n      return { ...state,\n        isFetching: action.data\n      };\n\n    case SET_CATEGORY:\n      return { ...state,\n        categories: action.data\n      };\n\n    case CLEAR_DISH:\n      return { ...state,\n        dishes: action.data\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst setDish = dish => ({\n  type: SET_DISH,\n  payload: dish\n});\n\nconst setIsFetching = data => ({\n  type: SET_IS_FETCHING,\n  data\n});\n\nconst setCategory = data => {\n  return {\n    type: SET_CATEGORY,\n    data\n  };\n};\n\nconst removeDishes = () => ({\n  type: CLEAR_DISH,\n  data: []\n});\n\nexport const getDish = id => {\n  return async dispatch => {\n    dispatch(setIsFetching(true));\n    const response = await getDishes(id);\n    dispatch(setDish(response));\n    dispatch(setIsFetching(false)); // debugger\n  };\n};\nexport const getCategories = () => {\n  return async dispatch => {\n    dispatch(setIsFetching(true));\n    const response = await getCategory();\n    dispatch(setCategory(response.data));\n    dispatch(setIsFetching(false));\n  };\n};\nexport const clearDishes = () => {\n  return dispatch => {\n    dis;\n  };\n};","map":{"version":3,"sources":["/home/yesiaw/GitLabProgect/src/pages/dishes/ducks/reducer.js"],"names":["getCategory","getDishes","SET_DISH","SET_IS_FETCHING","SET_CATEGORY","CLEAR_DISH","initialState","isFetching","dishes","categories","dishReducer","state","action","type","dishIndex","findIndex","dish","name","payload","data","setDish","setIsFetching","setCategory","removeDishes","getDish","id","dispatch","response","getCategories","clearDishes","dis"],"mappings":"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","sourcesContent":["import { getCategory, getDishes } from \"../../../api\";\n\nconst SET_DISH = \"SET_DISH\";\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\";\nconst SET_CATEGORY = \"SET_CATEGORY\";\nconst CLEAR_DISH = \"CLEAR_DISH\"\n\nconst initialState = {\n\tisFetching: true,\n\tdishes: [],\n\tcategories: []\n};\n\nexport default function dishReducer(state = initialState, action) {\n\t// debugger\n\tswitch (action.type) {\n\t\tcase SET_DISH:\n\t\t\tconst dishIndex = state.dishes.findIndex((dish) => dish.name === action.payload.name)\n\t\t\t// debugger\n\t\t\tif (dishIndex == -1) {\n\t\t\t\t// debugger\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tdishes: [...state.dishes, action.payload],\n\t\t\t\t\tisFetching: false\n\t\t\t\t}\n\t\t\t}\n\t\tcase SET_IS_FETCHING:\n\t\t\treturn { ...state, isFetching: action.data };\n\t\t\t\n\t\tcase SET_CATEGORY:\n\t\t\treturn { \n\t\t\t\t...state,\n\t\t\t\tcategories: action.data\n\t\t\t};\n\t\tcase CLEAR_DISH:\n\t\t\treturn { \n\t\t\t\t...state,\n\t\t\t\tdishes: action.data\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nconst setDish = (dish) => ({ type: SET_DISH, payload: dish });\nconst setIsFetching = (data) => ({ type: SET_IS_FETCHING, data });\nconst setCategory = (data) => {\n\treturn {type: SET_CATEGORY, data }\n}\nconst removeDishes = () => ({type:CLEAR_DISH , data: []})\n\n\nexport const getDish = (id) => {\n\treturn async (dispatch) => {\n\t\tdispatch(setIsFetching(true));\n\t\tconst response = await getDishes(id);\n\t\tdispatch(setDish(response));\n\t\tdispatch(setIsFetching(false));\n\t\t// debugger\n\t};\n};\n\nexport const getCategories = () => {\n\treturn async (dispatch) => {\n\t\tdispatch(setIsFetching(true));\n\t\tconst response = await getCategory();\n\t\tdispatch(setCategory(response.data))\n\t\tdispatch(setIsFetching(false));\n\t\t\n\t}\n}\n\nexport const clearDishes = () => {\n\treturn (dispatch) => {\n\t\tdis\n\t}\n}\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}